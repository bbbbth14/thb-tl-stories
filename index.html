<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>THB and TL ğŸ˜˜</title>
  <meta name="description" content="Má»™t gÃ³c nhá» dÃ nh riÃªng cho em.">
  <style>
    :root {
      --bg: #0f0f14;
      --card: #161623cc;
      --accent: #3abef9;
      --accent-2: #f7fbff;
      --text: #f7f7fb;
      --sub: #cfcfe6;
      --glass: rgba(255, 255, 255, 0.062);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --btn-gradient: linear-gradient(135deg, #ffd1e1, #ffc2e3 40%, #e5ccff);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 400px at 10% -20%, #1a1026, transparent 60%),
        radial-gradient(1000px 600px at 110% 120%, #102028, transparent 60%),
        linear-gradient(180deg, #3178e2, #2a5b8a 60%, #247dcf);
      overflow-x: hidden;
    }

    .hearts {
      position: fixed; inset: 0; pointer-events: none; z-index: -1; overflow: hidden;
    }
    .hearts span {
      position: absolute; bottom: -120px; width: 24px; height: 24px;
      background:
        radial-gradient(circle at 30% 30%, white 15%, transparent 16%),
        radial-gradient(circle at 70% 30%, white 15%, transparent 16%),
        radial-gradient(circle at 50% 60%, var(--accent) 45%, transparent 46%);
      filter: drop-shadow(0 6px 12px rgba(255,107,154,.35));
      transform: rotate(45deg);
      border-radius: 4px;
      opacity: .7;
      animation: floatUp linear infinite;
    }
    .hearts span::before, .hearts span::after {
      content: ""; position: absolute; inset: 0; border-radius: 50%;
      background: radial-gradient(circle, var(--accent) 30%, transparent 31%);
      transform: translate(-35%, -35%);
    }
    .hearts span::after { transform: translate(35%, -35%); }
    @keyframes floatUp {
      to { transform: translateY(-120vh) rotate(405deg); opacity: 0.2; }
    }

    nav {
      background: rgba(0,0,0,.3); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.1);
      position: sticky; top: 0; z-index: 100;
    }
    nav ul {
      max-width: 950px; margin: 0 auto; padding: 0 16px;
      display: flex; gap: 8px; list-style: none;
    }
    nav a {
      display: block; padding: 14px 18px; color: var(--text);
      text-decoration: none; font-weight: 600; font-size: 14px;
      border-radius: 8px; transition: all .2s;
      position: relative;
    }
    nav a:hover {
      background: rgba(255,255,255,.08);
      color: #ffd8e9;
    }
    nav a.active {
      background: var(--btn-gradient);
      color: #111;
    }

    .wrap {
      max-width: 950px; padding: 20px 16px 60px; margin: 0 auto;
    }
    .hero {
      margin-top: 20px; background: var(--glass); border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius); box-shadow: var(--shadow); padding: 28px 20px;
      display: grid; gap: 22px;
    }
    .title {
      display: flex; align-items: center; gap: 12px; flex-wrap: wrap;
    }
    .heart-logo {
      width: 40px; height: 40px; display: grid; place-items: center;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border-radius: 12px; box-shadow: 0 8px 20px rgba(155,93,229,.35);
      position: relative; overflow: hidden;
    }
    .heart-logo::before, .heart-logo::after {
      content: ""; position: absolute; width: 18px; height: 18px; background: white;
      border-radius: 50%; top: 9px;
    }
    .heart-logo::before { left: 7px; }
    .heart-logo::after { right: 7px; }
    .heart-logo span {
      position: absolute; width: 22px; height: 22px; background: white;
      transform: rotate(45deg) translateY(8px); bottom: 6px; border-radius: 4px;
    }

    h1 { font-size: clamp(24px, 4.2vw, 36px); margin: 0; }
    .lead { color: var(--sub); margin: 6px 0 0; line-height: 1.6; }

    .grid {
      display: grid; gap: 16px; grid-template-columns: 1fr;
    }
    @media (min-width: 720px) {
      .grid { grid-template-columns: 1.1fr .9fr; }
    }

    .card, .letter, .milestones, .dreamlist {
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.08); border-radius: var(--radius);
      padding: 18px; box-shadow: var(--shadow);
    }
    .counter {
      display: flex; flex-wrap: wrap; gap: 10px; font-weight: 600;
      font-size: clamp(18px, 3.5vw, 22px);
    }
    .counter .pill {
      background: rgba(255,255,255,.08); padding: 8px 12px; border-radius: 999px;
      color: #fff; min-width: 64px; text-align: center;
    }
    .since { color: var(--sub); font-size: 14px; margin-top: 8px; }

    .buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
    .btn {
      border: none; cursor: pointer; font-weight: 600; color: #111;
      background: var(--btn-gradient); padding: 10px 14px; border-radius: 12px;
      transition: transform .12s ease; box-shadow: 0 8px 18px rgba(255,107,154,.25);
    }
    .btn:active { transform: translateY(1px); }

    .gallery {
      margin-top: 6px;
    }
    .gallery figure {
      margin: 0; border-radius: 14px; overflow: hidden; background: #0b0b12;
      border: 1px solid rgba(255,255,255,.08); max-width: 300px;
      margin-inline: auto; display: flex; flex-direction: column;
    }
    .gallery img {
      width: 100%; height: auto; object-fit: cover; display: block;
      filter: saturate(1.1) contrast(1.05); transition: opacity .3s ease;
      cursor: pointer;
    }
    .gallery img.changing { opacity: 0; }
    .gallery figure:hover img:not(.changing) { transform: scale(1.04); }
    .caption {
      padding: 8px; font-size: 12px; color: #fff; text-align: center;
      background: rgba(0,0,0,.5); border-top: 1px solid rgba(255,255,255,.08);
    }

    .letter, .milestones, .dreamlist { margin-top: 16px; }
    details summary {
      cursor: pointer; list-style: none; font-weight: 700;
      display: flex; align-items: center; gap: 10px; color: #ffd8e9;
    }
    details summary::-webkit-details-marker { display: none; }
    .summary-pill {
      background: rgba(255,255,255,.08); padding: 6px 10px; border-radius: 999px;
      font-size: 13px; color: #fff; border: 1px solid rgba(255,255,255,.12);
    }
    .letter-content, .milestones-content, .dreamlist-content {
      margin-top: 10px; line-height: 1.7; white-space: pre-line;
    }
    .dreamlist-content li {
      display: flex; align-items: center; gap: 8px; margin-bottom: 8px;
    }
    .dreamlist-content input[type="checkbox"] {
      width: 16px; height: 16px; accent-color: var(--accent); cursor: pointer;
    }

    footer {
      margin-top: 26px; color: var(--sub); font-size: 12px; text-align: center;
    }

    .audio {
      position: fixed; bottom: 16px; right: 16px; z-index: 10;
      background: rgba(0,0,0,.4); border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px; padding: 8px 10px; display: flex; align-items: center;
      gap: 8px; backdrop-filter: blur(6px);
    }
    .audio button {
      border: none; background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #fff; border-radius: 10px; padding: 8px 10px; cursor: pointer;
      font-weight: 700; box-shadow: 0 6px 18px rgba(155,93,229,.35);
    }
    .audio .hint { color: #fff; opacity: .8; font-size: 13px; }

    @media (max-width: 420px) {
      .buttons { gap: 8px; }
      .btn { padding: 10px 12px; }
      .gallery figure { max-width: 100%; }
    }
  </style>
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="valentine.html">Our First Valentine ğŸ’</a></li>
    </ul>
  </nav>
  <div class="hearts" aria-hidden="true"></div>
  <div class="wrap">
    <div class="hero">
      <div class="title">
        <div class="heart-logo"><span></span></div>
        <div>
          <h1>THB and TL stories. Má»™t gÃ³c nhá» Ä‘á»ƒ lÆ°u giá»¯ nhá»¯ng ká»‰ niá»‡m trÆ°á»Ÿng thÃ nh cÃ¹ng nhau cá»§a anh vÃ  em ğŸ’•</h1>
          <p class="lead">Má»™t gÃ³c nhá» Ä‘á»ƒ lÆ°u giá»¯ nhá»¯ng ká»‰ niá»‡m trÆ°á»Ÿng thÃ nh cÃ¹ng nhau cá»§a anh vÃ  em ğŸ’•</p>
        </div>
      </div>
      <div class="grid">
        <section class="card">
          <div class="counter" id="counter">
            <div class="pill" id="days">0 days</div>
            <div class="pill" id="hours">0 hours</div>
            <div class="pill" id="minutes">0 min</div>
            <div class="pill" id="seconds">0 second</div>
          </div>
          <div class="since" id="since"></div>
          <div class="buttons">
            <button class="btn" id="openLetterBtn" aria-label="Má»Ÿ hoáº·c Ä‘Ã³ng thÆ° tÃ¬nh gá»­i tá»›i TL" aria-expanded="false">ThÆ° em gá»­i</button>
            <button class="btn" id="scrollGallery" aria-label="Xem áº£nh ká»· niá»‡m cá»§a THB vÃ  TL">WeTogether</button>
            <button class="btn" id="toggleMilestones" aria-label="Má»Ÿ hoáº·c Ä‘Ã³ng cÃ¡c má»‘c thá»i gian quan trá»ng cá»§a THB vÃ  TL" aria-expanded="false">Our Milestones</button>
            <button class="btn" id="toggleDreamlist" aria-label="Má»Ÿ hoáº·c Ä‘Ã³ng danh sÃ¡ch nhá»¯ng viá»‡c sáº½ lÃ m cÃ¹ng nhau cá»§a THB vÃ  TL" aria-expanded="false">We will</button>
          </div>
        </section>
        <section class="card">
          <div class="gallery-header">
            <strong>Em báº¥m vÃ o tá»«ng táº¥m áº£nh nhÃ©, anh hi vá»ng cÃ ng ngÃ y sá»‘ láº§n em báº¥m vÃ o cÃ ng nhiá»u ğŸ–</strong>
          </div>
          <div class="gallery" id="gallery">
            <figure>
              <img loading="lazy" id="galleryImage" role="button" tabindex="0" alt="Click for more ^^" src="images/IMG_0360.jpg" >
              <figcaption class="caption" id="galleryCaption">Click for more ^^</figcaption>
            </figure>
          </div>
        </section>
      </div>
      <section class="letter">
        <details id="letter">
          <summary>
            <span>ThÆ° em gá»­i</span>
            <span class="summary-pill">ğŸ’•ğŸ’•ğŸ’•</span>
          </summary>
          <div class="letter-content" id="letterContent"></div>
        </details>
      </section>
      <section class="milestones">
        <details id="milestones">
          <summary>
            <span>Cá»™t má»‘c cá»§a chÃºng ta</span>
            <span class="summary-pill">ğŸ™ˆğŸ™ˆğŸ™ˆ</span>
          </summary>
          <div class="milestones-content">
            <ul>
              <li><strong>31/07/2025</strong>: NgÃ y chÃºng ta báº¯t Ä‘áº§u hÃ nh trÃ¬nh yÃªu thÆ°Æ¡ng nhau ğŸ’•.</li>
              <li><strong>01/08/2025</strong>: Em Ä‘Ã²i qua luÃ´n chá»— anh ğŸ˜’.</li>
              <li><strong>10/08/2025</strong>: Láº§n Ä‘áº§u chÃºng ta leo nÃºi cÃ¹ng nhau - LangBiang ğŸ—».</li>
              <li><strong>26/09/2025</strong>: Sinh nháº­t Ä‘áº§u tiÃªn anh cÃ³ em á»Ÿ bÃªn ğŸ’.</li>
              <li><strong>11/12/2025</strong>: Sinh nháº­t cá»§a em ğŸ’.</li>
              <li><strong>31/07/2026</strong>: Má»™t nÄƒm chÃºng mÃ¬nh Ä‘á»“ng hÃ nh cÃ¹ng nhau ğŸ’–.</li>
              <li><strong>31/07/2027</strong>: Hai nÄƒm chÃºng mÃ¬nh yÃªu nhau ğŸ’“.</li>
            </ul>
          </div>
        </details>
      </section>
      <section class="dreamlist">
        <details id="dreamlist">
          <summary>
            <span>ChÃºng ta sáº½ lÃ m cÃ¹ng nhau</span>
            <span class="summary-pill">ğŸ–ğŸ–ğŸ–</span>
          </summary>
          <div class="dreamlist-content">
            <ul>
              <li><input type="checkbox" id="dream0" name="dream0"><label for="dream0">Äi VÅ©ng TÃ u cÃ¹ng nhau .</label></li>
              <li><input type="checkbox" id="dream1" name="dream1"><label for="dream1">Äi PhÃº YÃªn cÃ¹ng nhau ğŸŒ³.</label></li>
              <li><input type="checkbox" id="dream2" name="dream2"><label for="dream2">Äi An Giang cÃ¹ng nhau ğŸ–ï¸.</label></li>
              <li><input type="checkbox" id="dream3" name="dream3"><label for="dream3">Äi CÃ  Mau cÃ¹ng nhau ğŸ’¦.</label></li>
              <li><input type="checkbox" id="dream4" name="dream4"><label for="dream4">Cháº¡y trail cÃ¹ng nhau ğŸƒâ€â™‚ï¸ğŸƒâ€â¡ï¸.</label></li>
              <li><input type="checkbox" id="dream5" name="dream5"><label for="dream5">ÄÆ°a em Ä‘i ra Báº¯c, tá»« HÃ  Ná»™i Ä‘áº¿n 1 vÃ²ng ÄÃ´ng Báº¯c, TÃ¢y Báº¯c ğŸï¸.</label></li>
              <li><input type="checkbox" id="dream6" name="dream6"><label for="dream6">Em dáº«n anh Ä‘i háº¿t nÃºi á»Ÿ miá»n Nam ğŸ§—â€â™€ï¸.</label></li>
              <li><input type="checkbox" id="dream7" name="dream7"><label for="dream7">CÃ¹ng nhau lÃ m nhá»¯ng Ä‘iá»u cáº£ 2 chÆ°a tá»«ng lÃ m ğŸ–.</label></li>
              <li><input type="checkbox" id="dream8" name="dream8"><label for="dream8">YÃªu thÆ°Æ¡ng TL tháº­t nhiá»u, láº¥y TL lÃ m vá»£ ğŸ‘°.</label></li>
            </ul>
          </div>
        </details>
      </section>
      <footer>From bottom of THB's heart â¤ï¸</footer>
    </div>
  </div>
  <div class="audio" role="region" aria-label="Background music">
    <button id="toggleMusic">PhÃ¡t nháº¡c</button>
    <span class="hint" id="audioHint">Chá»n phÃ¡t Ä‘á»ƒ nghe bÃ i mÃ¬nh thÃ­ch</span>
    <audio id="bgm" preload="none" loop>
      <source src="audio/music.mp3" type="audio/mpeg">
    </audio>
  </div>
  <script>
    const NAMES = { you: "THB", her: "TL" };
    const START_DATE = "2025-07-31T00:00:00";
    const LETTER = `Dear XÃ´i yÃªu,
   Cháº±ng nhÃ¢n dá»‹p gÃ¬ cáº£, chá»‰ lÃ  em muá»‘n lÆ°u giá»¯ láº¡i ká»‰ niá»‡m láº§n Ä‘áº§u chÃºng ta leo nÃºi cÃ¹ng nhau. DÃ¹ Ä‘áº¿n hiá»‡n táº¡i thá»i gian 
chÃ­nh thá»©c bÃªn cáº¡nh nhau chá»‰ ngáº¯n ngá»§i thÃ´i nhÆ°ng Ä‘á»‘i vá»›i em Ä‘Ã£ cÃ³ quÃ¡ nhiá»u sá»± gáº¯n bÃ³, yÃªu thÆ°Æ¡ng vÃ  tháº¥u cáº£m.
   Tháº­t may máº¯n vÃ¬ em Ä‘Ã£ cÃ³ anh bÃªn cáº¡nh, em biáº¿t Æ¡n vÃ¬ sá»± tá»“n táº¡i láº¥p lÃ¡nh cá»§a XÃ´i bÃªn Ä‘á»i. 

                                YÃªu dáº¥u cá»§a anh, 
                                    ThÃ¹y Linh.`;
    const QUOTES = [
      "Anh khÃ´ng muá»‘n bá» lá»¡ em.",
      "Quen 1 báº¡n gÃ¡i miá»n Nam Ä‘i lÃ  cÃ³ Ä‘á»™ng lá»±c á»Ÿ láº¡i.",
      "á»¦a á»Ÿ Ä‘Ã¢u mÃ  mÆ°a to tháº¿ anh? Hcm Ã¡??",
      "NgÃ y mÃ¬nh biáº¿t mÃ¬nh thÃ­ch 1 ngÆ°á»i, báº§u trá»i xanh 1 mÃ u khÃ¡c."
    ];
    const IMAGES = [
      { src: "images/far.jpg", alt: "THB vÃ  TL á»Ÿ xa nhau", caption: "SÆ¡n La - VÅ©ng TÃ u" },
      { src: "images/IMG_5930.jpg", alt: "THB vÃ  TL táº¡i Langbiang", caption: "THB vÃ  TL á»Ÿ Ä‘á»‰nh Langbiang" },
      { src: "images/IMG_5897.jpg", alt: "THB vÃ  TL á»Ÿ cf bá»‡t", caption: "THB vÃ  TL Ä‘i CF bá»‡t" },
      { src: "images/IMG_5893.jpg", alt: "THB vÃ  TL á»Ÿ Vinhomes", caption: "THB vÃ  TL á»Ÿ Vinhomes" },
      { src: "images/IMG_5967.jpg", alt: "THB vÃ  TL á»Ÿ S-Mores SG", caption: "THB vÃ  TL á»Ÿ S-Mores SG" },
      { src: "images/IMG_6423.jpg", alt: "THB vÃ  TL á»Ÿ Vinhomes", caption: "THB vÃ  TL váº«n á»Ÿ Vinhomes" },
      { src: "images/IMG_6881.jpg", alt: "THB vÃ  TL á»Ÿ Vinhomes", caption: "THB vÃ  TL váº«n á»Ÿ Vinhomes" },
      { src: "images/IMG_5647.jpg", alt: "THB vÃ  TL váº«n á»Ÿ Vinhomes", caption: "THB vÃ  TL váº«n á»Ÿ Vinhomes" },
      { src: "images/IMG_5899.jpg", alt: "THB vÃ  TL á»Ÿ Dinh Äá»™c Láº­p", caption: "THB vÃ  TL á»Ÿ Dinh Äá»™c Láº­p" },
      { src: "images/IMG_6576.jpg", alt: "ThÆ° em gá»­i", caption: "ThÆ° em gá»­i" },
      { src: "images/IMG_6582.jpg", alt: "NgÃ y em cháº¡y xuá»‘ng bÃªn anh", caption: "NgÃ y em báº¥t ngá» xuá»‘ng bÃªn anh" },
      { src: "images/IMG_6686.jpg", alt: "TL vÃ  TL Ä‘i water bus", caption: "THB vÃ  TL Ä‘i water bus" },
      { src: "images/IMG_6981.jpg", alt: "TL vÃ  TL Ä‘i xem phim", caption: "THB vÃ  TL Ä‘i xem phim" },
      { src: "images/Day1.jpg", alt: "no cap", caption: "THB vÃ  TL" },
      { src: "images/IMG_8155.jpg", alt: "TL vÃ  TL á»Ÿ sinh nháº­t anh", caption: "THB vÃ  TL á»Ÿ sinh nháº­t anh" }
    ];

    // Heart animations
    for (let i = 0; i < 26; i++) {
      const s = document.createElement('span');
      const size = 12 + Math.random() * 22;
      Object.assign(s.style, {
        width: size + "px",
        height: size + "px",
        left: Math.random() * 100 + "%",
        animationDuration: 8 + Math.random() * 10 + "s",
        animationDelay: (-Math.random() * 10) + "s",
        opacity: 0.4 + Math.random() * 0.6
      });
      document.querySelector('.hearts').appendChild(s);
    }

    // Counter
    function updateCounter() {
      const diff = Math.max(0, Date.now() - new Date(START_DATE).getTime());
      const days = Math.floor(diff / (24 * 3600 * 1000));
      const hours = Math.floor((diff % (24 * 3600 * 1000)) / (3600 * 1000));
      const minutes = Math.floor((diff % (3600 * 1000)) / (60 * 1000));
      const seconds = Math.floor((diff % (60 * 1000)) / 1000);
      document.getElementById('days').textContent = days + " days";
      document.getElementById('hours').textContent = hours + " hours";
      document.getElementById('minutes').textContent = minutes + " min";
      document.getElementById('seconds').textContent = seconds + " sec";
      document.getElementById('since').textContent = `NgÃ y chÃºng ta chÃ­nh thá»©c lÃ  cá»§a nhau ğŸ’•: ${new Date(START_DATE).toLocaleDateString('vi-VN', { year: 'numeric', month: '2-digit', day: '2-digit' })}`;
      requestAnimationFrame(updateCounter);
    }
    updateCounter();

    // Toggle sections
    function toggleSection(btnId, sectionId, scrollBlock = 'start') {
      const btn = document.getElementById(btnId);
      const section = document.getElementById(sectionId);
      btn.addEventListener('click', () => {
        section.open = !section.open;
        btn.setAttribute('aria-expanded', section.open);
        if (section.open) {
          section.scrollIntoView({ behavior: 'smooth', block: scrollBlock });
          section.animate([
            { boxShadow: '0 0 0 0 rgba(255,107,154,.6)' },
            { boxShadow: '0 0 0 12px rgba(255,107,154,0)' }
          ], { duration: 800, iterations: 1 });
        }
      });
    }
    toggleSection('openLetterBtn', 'letter', 'center');
    toggleSection('toggleMilestones', 'milestones');
    toggleSection('toggleDreamlist', 'dreamlist');

    // Persist dreamlist checkbox states (reload-safe)
    const DREAMLIST_STORAGE_KEY = 'thb_tl_dreamlist_v1';
    function getDreamlistCheckboxes() {
      return Array.from(document.querySelectorAll('#dreamlist input[type="checkbox"][id]'));
    }
    function loadDreamlistState() {
      let saved = {};
      try {
        saved = JSON.parse(localStorage.getItem(DREAMLIST_STORAGE_KEY) || '{}');
      } catch (_) {
        saved = {};
      }
      for (const cb of getDreamlistCheckboxes()) {
        if (typeof saved[cb.id] === 'boolean') cb.checked = saved[cb.id];
      }
    }
    function saveDreamlistState() {
      const state = {};
      for (const cb of getDreamlistCheckboxes()) state[cb.id] = cb.checked;
      try {
        localStorage.setItem(DREAMLIST_STORAGE_KEY, JSON.stringify(state));
      } catch (_) {
        // ignore (e.g., storage disabled)
      }
    }
    loadDreamlistState();
    for (const cb of getDreamlistCheckboxes()) {
      cb.addEventListener('change', saveDreamlistState);
    }

    // Gallery
    let currentImageIndex = 0;
    const galleryImage = document.getElementById('galleryImage');
    const galleryCaption = document.getElementById('galleryCaption');
    document.getElementById('scrollGallery').addEventListener('click', () => {
      const gallery = document.getElementById('gallery');
      gallery.scrollIntoView({ behavior: 'smooth', block: 'start' });
      gallery.animate([
        { boxShadow: '0 0 0 0 rgba(255,107,154,.6)' },
        { boxShadow: '0 0 0 12px rgba(255,107,154,0)' }
      ], { duration: 800, iterations: 1 });
    });
    function changeImage() {
      galleryImage.classList.add('changing');
      setTimeout(() => {
        currentImageIndex = (currentImageIndex + 1) % IMAGES.length;
        const { src, alt, caption } = IMAGES[currentImageIndex];
        galleryImage.src = src;
        galleryImage.alt = alt;
        galleryCaption.textContent = caption;
        galleryImage.setAttribute('aria-label', `áº¢nh ká»· niá»‡m ${currentImageIndex + 1}/${IMAGES.length} cá»§a THB vÃ  TL`);
        galleryImage.classList.remove('changing');
      }, 300);
    }
    galleryImage.addEventListener('click', changeImage);
    galleryImage.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        changeImage();
      }
    });

    // Letter
    document.getElementById('letterContent').textContent = LETTER;

    // Audio
    const audio = document.getElementById('bgm');
    const toggle = document.getElementById('toggleMusic');
    const hint = document.getElementById('audioHint');
    let playing = false;
    toggle.addEventListener('click', async () => {
      try {
        if (!playing) {
          await audio.play();
          playing = true;
          toggle.textContent = "Stop";
          hint.textContent = "ChÃºc em nghe nháº¡c vui váº» ğŸ’";
        } else {
          audio.pause();
          playing = false;
          toggle.textContent = "Play";
          hint.textContent = "Em báº¥m vÃ o Ä‘á»ƒ nghe nháº¡c nhÃ©eee";
        }
      } catch (e) {
        hint.textContent = "TrÃ¬nh duyá»‡t cáº§n thao tÃ¡c Ä‘á»ƒ phÃ¡t nháº¡c. Nháº¥n láº¡i nhÃ©!";
      }
    });

    // Dynamic text
    document.querySelector('h1').textContent = `${NAMES.you} and ${NAMES.her} stories ğŸ’•`;
    document.querySelector('footer').textContent = `From bottom of ${NAMES.you}'s heart â¤ï¸`;

    // Quotes
    const lead = document.querySelector('.lead');
    let qi = 0;
    setInterval(() => {
      qi = (qi + 1) % QUOTES.length;
      lead.animate([{ opacity: .2, transform: 'translateY(2px)' }, { opacity: 1, transform: 'translateY(0)' }], { duration: 350 });
      lead.textContent = QUOTES[qi];
    }, 4500);
  </script>
</body>
</html>